<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Al-Ahwar Interactive Map</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="loader-overlay">
        <div class="loader-content">
            <h1>Al-Ahwar Map Project</h1>
            <p>Loading High-Resolution Layers...</p>
            <div class="progress-container">
                <div id="progress-bar"></div>
            </div>
            <div id="progress-text">0%</div>
        </div>
    </div>

    <div class="app-container" id="main-app" style="visibility: hidden;">
        <main class="map-viewport">
            <div id="map-stack"></div>
        </main>

        <aside class="sidebar">
            <h2 class="sidebar-title">Map Controls</h2>
            
            <div class="control-group">
                <h3>Survey Year</h3>
                <div class="toggle-switch">
                    <input type="radio" id="year-1990" name="year" value="1990" checked onchange="updateMap()">
                    <label for="year-1990">1990</label>
                    <input type="radio" id="year-2024" name="year" value="2024" onchange="updateMap()">
                    <label for="year-2024">2024</label>
                    <div class="switch-slider"></div>
                </div>
            </div>

            <div class="control-group">
                <h3>Base Style</h3>
                <div class="toggle-switch">
                    <input type="radio" id="base-sat" name="base" value="satellite" checked onchange="updateMap()">
                    <label for="base-sat">Satellite</label>
                    <input type="radio" id="base-tex" name="base" value="texture" onchange="updateMap()">
                    <label for="base-tex">Texture</label>
                    <div class="switch-slider"></div>
                </div>
            </div>

            <hr class="divider">

            <div class="control-group">
                <label class="check-item">
                    <input type="checkbox" class="layer-cb" data-layer="border" onchange="updateMap()">
                    <span class="custom-check"></span> Borders
                </label>
            </div>

            <div id="texture-details" class="sub-menu hidden">
                <h3 class="sub-title">Texture Layers</h3>
                <label class="check-item"><input type="checkbox" class="layer-cb" data-layer="marshes" onchange="updateMap()"><span class="custom-check"></span> Marshes</label>
                <label class="check-item"><input type="checkbox" class="layer-cb" data-layer="veg" data-blend="linear" onchange="updateMap()"><span class="custom-check"></span> Vegetation</label>
                <label class="check-item"><input type="checkbox" class="layer-cb" data-layer="water" data-blend="linear" onchange="updateMap()"><span class="custom-check"></span> Water</label>
                <label class="check-item"><input type="checkbox" class="layer-cb" data-layer="pop" data-blend="linear" onchange="updateMap()"><span class="custom-check"></span> Population</label>
            </div>

            <hr class="divider">

            <div class="control-group">
                <h3 class="sub-title">Global Overlays</h3>
                <label class="check-item"><input type="checkbox" class="layer-cb" data-layer="roads" onchange="updateMap()"><span class="custom-check"></span> Roads</label>
                <label class="check-item"><input type="checkbox" class="layer-cb" data-layer="cities" onchange="updateMap()"><span class="custom-check"></span> Cities</label>
                <label class="check-item"><input type="checkbox" class="layer-cb" data-layer="rivers" onchange="updateMap()"><span class="custom-check"></span> Rivers</label>
                <label class="check-item"><input type="checkbox" class="layer-cb" data-layer="pumps" onchange="updateMap()"><span class="custom-check"></span> Pumps</label>
            </div>
        </aside>
    </div>

    <script src="script.js"></script>
</body>
</html>